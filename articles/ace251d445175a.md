---
title: "[Tips]Zedã§Terraformã®format on saveãŒåŠ¹ã‹ãªã‹ã£ãŸã®ã§å¯¾å‡¦ã—ãŸ"
emoji: "ğŸ› ï¸"
type: "tech"
topics: ["terraform", "zed"]
published: true
---

## æ¦‚è¦

Zedã‚’ä½¿ã„ãªãŒã‚‰Terraformã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã“ã†ã¨ã—ãŸã®ã§ã™ãŒã€"format on save"ãŒåŠ¹ã‹ãªã„ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚
å¯¾å‡¦æ–¹æ³•ã‚’ã—ã‚‰ã¹ã‚‹ã¨æ„å¤–ã¨æ™‚é–“ãŒã‹ã‹ã£ãŸã®ã§ã€åŒã˜å•é¡Œã§å›°ã£ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã¨æ€ã„ã€è¨˜äº‹ã«ã¾ã¨ã‚ã¾ã™ã€‚

---

## å•é¡Œ

Terraformã® `.tf` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Zedã§ç·¨é›†ã—ä¿å­˜ã—ãŸéš›ã€è‡ªå‹•ã§"format on save"ã—ã¦ã»ã—ã‹ã£ãŸã®ã ãŒã€å‹•ä½œã—ãªã‹ã£ãŸã€‚

### å½“æ™‚ã®ç’°å¢ƒ

- [Terraformã®æ‹¡å¼µæ©Ÿèƒ½](https://github.com/zed-extensions/terraform)ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã€‚
- settings.jsonã®è¨­å®šã¯ä»¥ä¸‹ã®é€šã‚Šã€‚

```json
  "format_on_save": "on",
  "formatter": "language_server",
```

---

## åŸå› 

Zedã§language serverã®è¨­å®šã‚’æ˜ç¤ºçš„ã«è¡Œã£ã¦ã„ãªã„ãŸã‚ã€Terraformã®language serverãŒèªè­˜ã•ã‚Œã¦ã„ãªã‹ã£ãŸã“ã¨ãŒåŸå› (ã¨æ€ã‚ã‚Œã‚‹)ã€‚

---

## è§£æ±ºæ–¹æ³•

Zedã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: `settings.json`ï¼‰ã«ã€ä»¥ä¸‹ã®ã‚ˆã†ãªè¨˜è¿°ã‚’è¿½åŠ ã—ã€Terraformã®language serverã‚’æŒ‡å®šã™ã‚‹ã€‚

```json
  "format_on_save": "on",
  "formatter": "language_server",
ã€€ã€€"languages": {
  ã€€ã€€"Terraform": {
    ã€€ã€€"language_servers": [
      ã€€ã€€"terraform-ls"
      ]
    }
  }
```

---

## çµæœ

ä¿å­˜æ™‚ã«Terraformãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•æ•´å½¢ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚  

![terraform_formatonsave](/images/ace251d445175a/terraform_formatonsave.gif)

---

## è£œè¶³

- `terraform-ls` ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
- settings.jsonã‚’å¤‰æ›´å¾Œåæ˜ ã•ã‚Œãªã„å ´åˆã¯ã€ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚Œã°åæ˜ ã•ã‚Œã¾ã™ã€‚

---

## ã¾ã¨ã‚

Zedã§Terraformã®format on saveãŒåŠ¹ã‹ãªã„å ´åˆã¯ã€`language_servers` ã®è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§è§£æ±ºã§ãã¾ã—ãŸã€‚
ã»ã‹ã®è¨€èªã§ã‚‚format on saveãŒåŠ¹ã‹ãªã„å ´åˆã«ã¯ã€åŒæ§˜ã®è¨­å®šã‚’è©¦ã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
