---
title: "WSL + Arch Linux, nixã§ç’°å¢ƒè¨­å®š"
emoji: "ğŸ¦”"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [WSL, nix]
published: false
---

# å‹•æ©Ÿ
WSLã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ä»Šã¾ã§ã¯Ubuntuã‚„Debianã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸãŒã€ãƒ‰ãƒ©ã‚¤ãƒ–ã‚’åœ§è¿«ã™ã‚‹ãŸã‚è»½é‡ãªArch Linuxã‚’å…¥ã‚Œã¦ã¿ã¾ã—ãŸã€‚
Arch Linuxã¯è»½é‡ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ãŒé«˜ã„ã§ã™ãŒã€ç’°å¢ƒæ§‹ç¯‰ã«æ™‚é–“ãŒã‹ã‹ã‚‹ãŸã‚ã€nixã‚’ä½¿ã£ã¦ç’°å¢ƒè¨­å®šã‚’è¡Œã„ã¾ã—ãŸã€‚

# æ‰‹é †
1. WSLã«Arch Linuxã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
wsl --install archlinux --name main

2. åˆæœŸè¨­å®š
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ
  - useradd -m -G wheel -s /bin/bash wslUser
  - passwd wslUser
- sudoã®è¨­å®š
  - pacman -Syyu
  - pacman -S sudo vim curl git
  - EDITOR=vim visudoã§%wheel ALL=(ALL) ALLã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’å¤–ã™
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¦ãƒ¼ã‚¶ã®è¨­å®š
  - /etc/wsl.conf
    - [user]
      default = wslUser
  - wslå†èµ·å‹•

3. nixã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
curl -fsSL https://install.determinate.systems/nix | sh -s -- install
https://github.com/DeterminateSystems/nix-installer

4. nixã‚’ä½¿ã£ã¦ç’°å¢ƒè¨­å®š
- ~/.config/home-manager/ã‚’è¨­å®š
- home-managerã«ã‚ˆã‚Šç’°å¢ƒè¨­å®š
nix run home-manager/master -- switch
home-manager switch (äºŒå›ç›®ä»¥é™)
